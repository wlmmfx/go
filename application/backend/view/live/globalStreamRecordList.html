<div class="row">
    <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th>#ID</th>
            <th>流名称</th>
            <th>推流域名</th>
            <th>应用名称</th>
            <th>开始/结束时间</th>
            <th>推流IP地址</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        {volist name='lists' id='vo'}
        <tr class="gradeX">
            <td>{$vo['id']}</td>
            <td >{$vo['stream_name']}</td>
            <td>{$vo['domain_name']}</td>
            <td>{$vo['app_name']}</td>
            <td>
                开始时间：{$vo['start_time']|date="Y-m-d H:i:s",###}<br/>
                结束时间：
                {empty name="$vo['stop_time']"}
                正在推流
                {else /}
                {$vo['stop_time']|date="Y-m-d H:i:s",###}
                {/empty}
            </td>
            <td >{$vo['client_ip']|ip_format}</td>
            <td>
                <a href="{:url('backend/category/subpage',['id'=>$vo['id']])}">
                    <button class="btn btn-primary btn-xs">
                        <i class="icon-folder-open"></i>详情
                    </button>
                </a>
                <a href="javascript:playModal('{$vo.domain_name}','{$vo.app_name}','{$vo.stream_name}');">
                    <button class="btn btn-warning btn-xs">
                        <i class="icon-play-circle"></i>预览
                    </button>
                </a>
            </td>
        </tr>
        {/volist}
        </tbody>
    </table>
    <div>{$lists->render()}</div>
</div>

<!-- 模态框（Modal） -->
<div class="modal fade" id="playModal" tabindex="-1" role="dialog" aria-labelledby="playModal" aria-hidden="true">
    <div class="modal-dialog ">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h5 class="modal-title">预览播放</h5>
            </div>
            <div class="modal-body">
                <div class="wrapper">
                    <video width="100%" id="video-container" height="100%" controls autoplay>

                    </video>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function playModal(domainName,appName,streamName) {
        $("#video-container").children().remove();
        $("#playModal").modal("show");
        console.log("http://" + domainName + '/'+appName+'/' + streamName+'.m3u8');
        $("#video-container").html('<source id="source-container" src="http://' + domainName +'/'+appName+'/' + streamName + '.m3u8" type="video/mp4">');
        //你在动态赋值src后要加载这个视频文件即:
        $("#video-container").load();
    }

</script>